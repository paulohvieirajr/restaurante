!function(){"use strict";angular.module("app",["ngAnimate","ngSanitize","ui.bootstrap","ui.router","ui.utils.masks","angular-loading-bar","datatables","toastr"])}(),function(){"use strict";function t(t,e){function r(){return t.get(e+"api/salariominimo")}function n(r){return t.post(e+"api/salariominimo",r)}return{obter:r,salvar:n}}angular.module("app").service("salarioMinimoService",t),t.$inject=["$http","URLAPI"]}(),function(){"use strict";function t(t,e){function r(){return t.get(e+"api/contribuinte/listar")}function n(r){return t.post(e+"api/contribuinte",r)}function o(r){return t.put(e+"api/contribuinte",JSON.stringify(r))}return{listar:r,inserir:n,alterar:o}}angular.module("app").service("contribuinteService",t),t.$inject=["$http","URLAPI"]}(),function(){"use strict";function t(t,e){t.state(e+"/home",{url:e+"/home",cache:!1,templateUrl:"app/pages/home/home.html",controller:"homeController as vm"})}angular.module("app").config(t),t.$inject=["$stateProvider","URLBASE"]}(),function(){"use strict";function t(t,e,r,n,o,a){function i(){try{n.listar().then(function(t){if(!t.data.result)return void a.error("Não há participantes a serem listados","Error");l.contribuintes=t.data.object}).catch(function(t){console.log(t)}),l.salariominimo.valor=0,o.obter().then(function(t){t.data.result&&(l.salariominimo=t.data.object)}).catch(function(t){console.log(t)})}catch(t){a.error(t,"Error")}}function s(){try{t.go(r+"/contribuinte")}catch(t){a.error(t,"Error")}}function c(){try{if(l.salariominimo<=0)return void a.error("Por favor, informa um salário mínimo maior que zro.","Error");o.salvar(l.salariominimo).then(function(t){if(!t.data.result)return void a.error(t.data.messages[0]);a.success("Salário mínimo atualizado com sucesso"),i()}).catch(function(t){console.log(t)})}catch(t){a.error(t,"Error")}}var l=this;l.salariominimo={},l.contribuintes=[],l.init=i,l.novoContribuinte=s,l.atualizarSalarioMinimo=c}t.$inject=["$state","$sce","URLBASE","contribuinteService","salarioMinimoService","toastr"],angular.module("app").controller("homeController",t),t.inject=["$state","$sce","URLBASE","contribuinteService","salarioMinimoService","toastr"]}(),function(){"use strict";function t(t,e){t.state(e+"/contribuinte",{url:e+"/contribuinte",cache:!1,templateUrl:"app/pages/contribuinte/contribuinte.html",controller:"contribuinteController as vm"})}angular.module("app").config(t),t.$inject=["$stateProvider","URLBASE"]}(),function(){"use strict";function t(t,e,r,n,o){function a(){try{c.model={}}catch(t){o.error(t,"Error")}}function i(){try{n.inserir(c.model).then(function(t){t.data.result?o.success("Contribuinte atualizado com sucesso"):angular.forEach(t.data.messages,function(t){o.error(t,"Error")})}).catch(function(t){console.log(t)})}catch(t){o.error(t,"Error")}}function s(){try{t.go(r+"/home")}catch(t){o.error(t,"Error")}}var c=this;c.init=a,c.salvar=i,c.voltar=s}t.$inject=["$state","$sce","URLBASE","contribuinteService","toastr"],angular.module("app").controller("contribuinteController",t),t.inject=["$state","$sce","URLBASE","contribuinteService","toastr"]}(),function(){"use strict";function t(){function t(t){if(""==(t=t.replace(/[^\d]+/g,""))||"null"==t)return!1;var e,r;if(e=0,"00000000000"==t)return!1;for(var n=1;n<=9;n++)e+=parseInt(t.substring(n-1,n))*(11-n);if(r=10*e%11,10!=r&&11!=r||(r=0),r!=parseInt(t.substring(9,10)))return!1;e=0;for(var n=1;n<=10;n++)e+=parseInt(t.substring(n-1,n))*(12-n);return r=10*e%11,10!=r&&11!=r||(r=0),r==parseInt(t.substring(10,11))}function e(t){if(""==(t=t.replace(/[^\d]+/g,"")))return!1;if(14!=t.length)return!1;if("00000000000000"==t||"11111111111111"==t||"22222222222222"==t||"33333333333333"==t||"44444444444444"==t||"55555555555555"==t||"66666666666666"==t||"77777777777777"==t||"88888888888888"==t||"99999999999999"==t)return!1;for(tamanho=t.length-2,numeros=t.substring(0,tamanho),digitos=t.substring(tamanho),soma=0,pos=tamanho-7,i=tamanho;i>=1;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);if(resultado=soma%11<2?0:11-soma%11,resultado!=digitos.charAt(0))return!1;for(tamanho+=1,numeros=t.substring(0,tamanho),soma=0,pos=tamanho-7,i=tamanho;i>=1;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);return resultado=soma%11<2?0:11-soma%11,resultado==digitos.charAt(1)}function r(t){return t=t.replace(/\D/g,""),t.length<12?(t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d{1,2})$/,"$1-$2")):(t=t.replace(/^(\d{2})(\d)/,"$1.$2"),t=t.replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3"),t=t.replace(/\.(\d{3})(\d)/,".$1/$2"),t=t.replace(/(\d{4})(\d)/,"$1-$2")),t}return function(n){var o="";if(n=String(n),n.length<12)o=t(n)?r(n):n;else{for(;n.length<14;)n="0"+n;o=e(n)?r(n):n}return o}}angular.module("app").filter("cpfcnpj",t)}(),function(){"use strict";function t(t,e,r,n,o,a){return{request:function(t){return t},responseError:function(t){return r.reject(t)}}}angular.module("app").factory("interceptorFactory",t),t.$inject=["$templateCache","$location","$q","URLBASE","APPVERSION","URLAPI"]}(),function(){"use strict";function t(){return{restrict:"E",scope:{text:"="},templateUrl:"app/directivies/message/message.html",link:function(t,e,r){t.show=!1,t.$watch("text",function(e,r){t.show=e})},controller:["$scope",function(t){t.close=function(){t.show=!1,t.text=null}}]}}angular.module("app").directive("message",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/directivies/header/header.html",controller:["$scope","URLBASE",function(t,e){!function(){t.URLBASE=e}()}]}}angular.module("app").directive("header",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/directivies/footer/footer.html",controller:["$scope",function(t){}]}}angular.module("app").directive("footer",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/directivies/content/content.html"}}angular.module("app").directive("content",t)}(),function(){"use strict";angular.module("app").constant("MSGERROR","Problemas ao contatar o servidor. Por favor tente mais tarde.").constant("LOADTEMPLATE",'<div class="mascara"><div class="cssload-container"><div class="cssload-speeding-wheel"></div><div class="margem-superior"><strong class="fonteBranca">Aguarde...</strong></div></div></div>')}(),function(){"use strict";function t(t){Date.prototype.yyyymmdd=function(){var t=this.getMonth()+1,e=this.getDate();return[this.getFullYear(),(t>9?"":"0")+t,(e>9?"":"0")+e].join("-")},Date.prototype.ddmmyyyy=function(){var t=this.getMonth()+1,e=this.getDate();return[(e>9?"":"0")+e,(t>9?"":"0")+t,this.getFullYear()].join("/")}}t.$inject=["$http"],angular.module("app").run(t)}(),function(){"use strict";angular.module("app").constant("webpages:Version","3.0.0.0").constant("webpages:Enabled","false").constant("ClientValidationEnabled","true").constant("UnobtrusiveJavaScriptEnabled","true").constant("APPVERSION","1.0.0.0").constant("URLAPI","http://localhost:3685/").constant("URLBASE","/web").constant("HTML5MODE","true")}(),function(){"use strict";function t(t,e,r,n,o){t.otherwise(n+"/home"),r.html5Mode("true"==o)}angular.module("app").config(t),t.$inject=["$urlRouterProvider","$stateProvider","$locationProvider","URLBASE","HTML5MODE"]}(),function(){"use strict";function t(t,e,r,n){t.interceptors.push("interceptorFactory"),t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"]}angular.module("app").config(t),t.$inject=["$httpProvider","cfpLoadingBarProvider","APPVERSION","LOADTEMPLATE"]}(),function(){angular.module("app").run(["$templateCache",function(t){t.put("app/directivies/content/content.html",'<div><header></div><div ui-view class="container-padrao"></div><div><footer></div>'),t.put("app/directivies/footer/footer.html",'<div class="row affix text-center text-uppercase sem-margem padding rodape"><span>{{text}}</span></div>'),t.put("app/directivies/message/message.html",'<div id="divMsg" class="alert alert-danger transicao" role="alert" ng-show="show"><i class="glyphicon glyphicon-warning-sign margem-direita"></i> <strong><span id="spMsg">{{text}}</span></strong> <button name="fechar" onclick="return false;" ng-click="close();" class="close"><span>&times;</span></button></div>'),t.put("app/directivies/header/header.html",'<nav class="navbar navbar-default navbar-cabecalho navbar-fixed-top" role="navigation"><div class="container"><strong class="navbar-left spanLogo"><a ui-sref="{{URLBASE}}/home" class="fontePadrao"><h4>Calculo de imposto de renda</h4></a></strong></div></nav>'),t.put("app/pages/contribuinte/contribuinte.html",'<div class="container-fluid margem-inferior" ng-init="vm.init();"><div class="row baseSaudacao"><div class="text-center sem-margem"><span class="spSaudacao text-uppercase">Seja Bem-Vindo !</span></div></div></div><div class="container"><div class="row"><div class="col-md-6 margem-superior"><label>Cadastro de contribuinte</label></div></div><div class="row"><div class="form-group col-md-3"><label>CPF</label><input type="text" class="form-control txt maskCpf" ng-model="vm.model.cpf" ui-br-cpf-mask></div><div class="form-group col-md-3"><label>Nome</label><input type="text" class="form-control txt" ng-model="vm.model.nome"></div><div class="form-group col-md-3"><label>Número dependentes</label><input type="text" class="form-control txt" ng-model="vm.model.dependentes"></div><div class="form-group col-md-3"><label>Salário</label><input type="text" class="form-control txt" ng-model="vm.model.salario"></div></div><div class="row"><div class="col-md-4"><button class="btn btn-warning btn-block" ng-click="vm.voltar();">Voltar</button></div><div class="col-md-4"></div><div class="col-md-4"><button class="btn btn-primary btn-block" ng-click="vm.salvar();">Salvar</button></div></div></div>'),t.put("app/pages/home/home.html",'<div class="container-fluid margem-inferior" ng-init="vm.init();"><div class="row baseSaudacao"><div class="text-center sem-margem"><span class="spSaudacao text-uppercase">Seja Bem-Vindo !</span></div></div></div><div class="container"><div class="row"><div class="form-group col-md-3"><label>Valor Salario Minimo</label><input type="text" class="form-control txt" ng-model="vm.salariominimo.valor"></div><div class="col-md-4"><button class="btn btn-primary btn-block" style="margin-top: 21px" ng-click="vm.atualizarSalarioMinimo();">Salvar</button></div></div><div class="row"><div class="col-md-6 margem-superior"><label>Tabela com contribuintes cadastrados</label></div></div><div class="row"><div class="col-md-12"><table class="table table-bordered table-hover tb"><thead><tr><th>CPF</th><th>Nome</th><th>Numero de dependetes</th><th>Salario</th><th>Salário com desconto</th></tr></thead><tbody><tr ng-repeat="contribuinte in vm.contribuintes"><td>{{::contribuinte.cpf | cpfcnpj}}</td><td>{{::contribuinte.nome}}</td><td>{{::contribuinte.dependentes}}</td><td>{{::contribuinte.salario}}</td><td>{{::contribuinte.salarioLiquido}}</td></tr></tbody></table></div></div><div class="row"><div class="col-md-4"><button class="btn btn-success btn-block" ng-click="vm.novoContribuinte();">Novo contribuinte</button></div><div class="col-md-4"><button class="btn btn-primary btn-block" ng-click="vm.init();">Atualizar lista</button></div></div></div>')}])}();
//# sourceMappingURL=app-db0857075d.js.map
